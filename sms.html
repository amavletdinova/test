<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Отправка СМС</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>
<form method="post" action="send.php">
<select class="list-group" id="phone">
    
    </select>
<br/>
Шаблон СМС:
    <select class="list-group" id="smsList">
    
    </select>
Сообщение<br><textarea name="message" rows="4" cols="40" id="messageArea"></textarea></br>
Оправитель<br/><input name="sender" value=""><br/><br/>

<input type="submit" name="send" value="Отправить">
</form>

      
      <script type="text/javascript" src="jquery.js" src="api.bitrix24.com/api/v1/"></script>
      
      <script>
      $(document).ready(function() {
        createList();
      });
     /*BX24.init(function(){
});
      const dealId = BX24.placement.info().id;
      let contactId;
BX24.callMethod(
    "crm.deal.contact.items.get",
    {
        id: {dealId}
    },
    function (result) {
        if (result.error()) {
            console.error(result.error());
        } else {
            const data = result.data();
            // Здесь записываем результат в переменную
            contactId = data[0].id;
        }
    }
);*/
      
      var items = [
        {title: "1", message: "Test1"},
        {title: "2", message: "Test2"}
      ];
     /*BX24.callMethod(
    "crm.contact.list",
    {
        filter: { "ID": "{contactID}"},
        select: [ "PHONE" ]
    },
    function (result) {
        if (result.error()) {
            console.error(result.error());
        } else {
            const data = result.data();
            // Здесь заполняем список select html
            for (let i = 0; i < data.length; i++) {
                const option = document.createElement('option');
                option.value = data[i].phone;
                option.text = data[i].title;
                phone.appendChild(option);
            }
        }
    }
);
*/
      function createList() {
        for (let i = 0; i < items.length; i++) {
          $('#smsList').append($('<option>', {
            class: 'list-group-item',
            text: items[i].title
          }));
        }
      }
      $('#smsList').on('change', function() {
  var selectedTitle = $(this).val();
  $('#messageArea').val(items.find(item => item.title === selectedTitle).message);
});

</script>
</body>
</html>
